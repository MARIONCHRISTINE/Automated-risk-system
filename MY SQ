CREATE TABLE `risk_incidents` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `custom_risk_id` varchar(50) DEFAULT NULL,
  `risk_name` varchar(255) NOT NULL,
  `risk_description` text NOT NULL,
  `cause_of_risk` text DEFAULT NULL,
  `department` varchar(100) NOT NULL,
  `department_id` int(11) DEFAULT NULL,
  `reported_by` int(11) NOT NULL,
  `risk_owner_id` int(11) NOT NULL,
  `existing_or_new` enum('New','Existing') NOT NULL,
  `risk_categories` text DEFAULT NULL,
  `inherent_likelihood` int(11) DEFAULT NULL,
  `inherent_consequence` int(11) DEFAULT NULL,
  `inherent_rating` int(11) DEFAULT NULL,
  `inherent_risk_level` varchar(50) DEFAULT NULL,
  `residual_rating` int(11) DEFAULT NULL,
  `residual_risk_level` varchar(50) DEFAULT NULL,
  `risk_level` varchar(50) DEFAULT NULL,
  `general_inherent_risk_score` int(11) DEFAULT NULL,
  `general_residual_risk_score` int(11) DEFAULT NULL,
  `general_inherent_risk_level` varchar(50) DEFAULT NULL,
  `general_residual_risk_level` varchar(50) DEFAULT NULL,
  `involves_money_loss` enum('yes','no') NOT NULL,
  `money_amount` decimal(15,2) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `custom_risk_id` (`custom_risk_id`),
  KEY `department_id` (`department_id`),
  KEY `reported_by` (`reported_by`),
  KEY `risk_owner_id` (`risk_owner_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
